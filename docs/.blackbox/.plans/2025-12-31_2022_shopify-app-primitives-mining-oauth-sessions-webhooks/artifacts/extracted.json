{
  "type": "shopify_app_primitives_mining",
  "version": 1,
  "generated_at_utc": "2025-12-31T13:31:15Z",
  "repos": [
    {
      "full_name": "kinngh/shopify-nextjs-prisma-app",
      "license_spdx": "MIT"
    },
    {
      "full_name": "carstenlebek/shopify-node-app-starter",
      "license_spdx": "MIT"
    }
  ],
  "primitives": [
    {
      "name": "ShopifyAuth",
      "goal": "Handle install + re-auth and maintain both offline and online tokens.",
      "sources": [
        {
          "repo": "kinngh/shopify-nextjs-prisma-app",
          "paths": [
            "utils/middleware/verifyRequest.js"
          ]
        },
        {
          "repo": "carstenlebek/shopify-node-app-starter",
          "paths": [
            "src/pages/api/auth/*",
            "src/middleware.ts"
          ]
        }
      ]
    },
    {
      "name": "SessionStore",
      "goal": "Store sessions durably and securely (encrypted at rest), with TTL for online sessions.",
      "sources": [
        {
          "repo": "kinngh/shopify-nextjs-prisma-app",
          "paths": [
            "utils/sessionHandler.js",
            "utils/cryption.js",
            "prisma/schema.prisma"
          ]
        },
        {
          "repo": "carstenlebek/shopify-node-app-starter",
          "paths": [
            "src/lib/sessionStorage.ts"
          ]
        }
      ]
    },
    {
      "name": "RequestVerifier",
      "goal": "Verify embedded app requests via session token/JWT and enforce correct frame-ancestors CSP.",
      "sources": [
        {
          "repo": "kinngh/shopify-nextjs-prisma-app",
          "paths": [
            "utils/middleware/verifyRequest.js",
            "utils/validateJWT.js"
          ]
        },
        {
          "repo": "carstenlebek/shopify-node-app-starter",
          "paths": [
            "src/middleware.ts",
            "src/middleware/verify-request.ts"
          ]
        }
      ]
    },
    {
      "name": "WebhookInbox",
      "goal": "Validate HMAC using raw bodies, dedupe by delivery id, dispatch by topic, and log outcomes for replay.",
      "sources": [
        {
          "repo": "kinngh/shopify-nextjs-prisma-app",
          "paths": [
            "pages/api/webhooks/[...webhookTopic].js"
          ]
        },
        {
          "repo": "carstenlebek/shopify-node-app-starter",
          "paths": [
            "src/pages/api/webhooks.ts",
            "src/webhooks/index.ts"
          ]
        }
      ]
    },
    {
      "name": "AppProxyVerifier",
      "goal": "Verify Shopify app proxy query-string signatures and bind requests to a shop domain.",
      "sources": [
        {
          "repo": "kinngh/shopify-nextjs-prisma-app",
          "paths": [
            "utils/middleware/verifyProxy.js",
            "pages/api/proxy_route/json.js"
          ]
        }
      ]
    },
    {
      "name": "AdminGraphQLProxy",
      "goal": "Provide a safe server-side Admin API GraphQL proxy for embedded UI calls.",
      "sources": [
        {
          "repo": "kinngh/shopify-nextjs-prisma-app",
          "paths": [
            "pages/api/graphql.js"
          ]
        },
        {
          "repo": "carstenlebek/shopify-node-app-starter",
          "paths": [
            "src/pages/api/graphql.ts"
          ]
        }
      ]
    }
  ]
}
