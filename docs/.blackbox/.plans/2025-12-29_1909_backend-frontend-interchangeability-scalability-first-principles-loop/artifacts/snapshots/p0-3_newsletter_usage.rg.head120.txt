../src/ui/components/NewsletterModal.tsx:3:type NewsletterModalProps = {
../src/ui/components/NewsletterModal.tsx:19:export function NewsletterModal({
../src/ui/components/NewsletterModal.tsx:27:}: NewsletterModalProps) {
../src/ui/components/NewsletterModal.tsx:51:      const res = await fetch('/api/newsletter/subscribe', {
../src/ui/components/NewsletterModal.tsx:115:export default NewsletterModal
../src/ui/components/GlobalFooter.tsx:12:  const [newsletterEmail, setNewsletterEmail] = useState('')
../src/ui/components/GlobalFooter.tsx:13:  const [newsletterStatus, setNewsletterStatus] = useState<'idle' | 'loading' | 'success' | 'error'>('idle')
../src/ui/components/GlobalFooter.tsx:14:  const [newsletterMessage, setNewsletterMessage] = useState<string | null>(null)
../src/ui/components/GlobalFooter.tsx:16:  const handleNewsletterSubmit = async (e: FormEvent<HTMLFormElement>) => {
../src/ui/components/GlobalFooter.tsx:21:    setNewsletterStatus('loading')
../src/ui/components/GlobalFooter.tsx:22:    setNewsletterMessage(null)
../src/ui/components/GlobalFooter.tsx:25:      const res = await fetch('/api/newsletter/subscribe', {
../src/ui/components/GlobalFooter.tsx:37:      setNewsletterStatus('success')
../src/ui/components/GlobalFooter.tsx:38:      setNewsletterMessage(data?.created ? 'Thanks — you’re on the list.' : 'You’re already on the list.')
../src/ui/components/GlobalFooter.tsx:39:      setNewsletterEmail('')
../src/ui/components/GlobalFooter.tsx:41:      setNewsletterStatus('error')
../src/ui/components/GlobalFooter.tsx:42:      setNewsletterMessage('Couldn’t subscribe right now. Please try again.')
../src/ui/components/GlobalFooter.tsx:101:              onSubmit={handleNewsletterSubmit}
../src/ui/components/GlobalFooter.tsx:102:              aria-label="Newsletter signup"
../src/ui/components/GlobalFooter.tsx:116:                  onChange={(e) => setNewsletterEmail(e.target.value)}
../api/newsletter/subscribe.ts:3:type NewsletterSignupPayload = {
../api/newsletter/subscribe.ts:15:async function ensureNewsletterTable() {
../api/newsletter/subscribe.ts:32:  const payload = (await req.json().catch(() => null)) as NewsletterSignupPayload | null;
../api/newsletter/subscribe.ts:41:  await ensureNewsletterTable();
../src/domains/admin/shared/data/componentMeta.ts:103:export type NewsletterModalConfig = {
../src/domains/admin/shared/data/componentMeta.ts:179:    name: 'Newsletter Modal',
../src/domains/admin/shared/data/componentMeta.ts:318:  } satisfies NewsletterModalConfig,
../src/domains/client/marketing/ui/sections/shop/email-capture-band/EmailCaptureBand.tsx:34:      const res = await fetch('/api/newsletter/subscribe', {
../src/domains/client/marketing/ui/sections/shop/email-capture-band/EmailCaptureBand.tsx:94:            aria-label="Newsletter signup"
../docs/06-quality/reviews/app-ui-review-2025-12-26.md:178:### 23) Newsletter “Get 10% off” form has no submission behavior
../docs/06-quality/reviews/app-ui-review-2025-12-26.md:306:  - `NewsletterModal` input is `readOnly` and has no real submit behavior (it’s a static mock, not a working signup).
../docs/06-quality/reviews/app-ui-review-2025-12-26.md:309:  - UI: `src/ui/components/AnnouncementBar.tsx`, `src/ui/components/NewsletterModal.tsx`
../docs/05-planning/plans/lumelle-app-plan.md:29:- Community / Newsletter (`/community`)
../docs/05-planning/plans/lumelle-app-plan.md:87:- Newsletter signup → ESP list → welcome discount (if configured).
../docs/06-quality/feedback/2025-11-13-client-call.md:6:- Client wants a single-product site with a strong mobile-first landing page and a few auxiliary pages (Story, Community/Newsletter, Sustainability, Refer a Friend, Affiliates, Contact, My Account).
../docs/05-planning/research/market-intelligence/ecommerce-benchmarking/womens-fashion-feature-adoption-matrix.md:107:| Newsletter signup (`newsletter_signup`) | 63 | AllSaints — `.blackbox/.plans/2025-12-29_0523_deep-research-ecommerce-benchmark-womens-fashion/artifacts/snapshots/homepages/allsaints.html`<br>Alo Yoga — `.blackbox/.plans/2025-12-29_0523_deep-research-ecommerce-benchmark-womens-fashion/artifacts/snapshots/homepages/alo-yoga.html`<br>Ana Luisa — `.blackbox/.plans/2025-12-29_0523_deep-research-ecommerce-benchmark-womens-fashion/artifacts/snapshots/homepages/ana-luisa.html`<br>Andie Swim — `.blackbox/.plans/2025-12-29_0523_deep-research-ecommerce-benchmark-womens-fashion/artifacts/snapshots/homepages/andie-swim.html`<br>Anthropologie — `.blackbox/.plans/2025-12-29_0523_deep-research-ecommerce-benchmark-womens-fashion/artifacts/snapshots/homepages/anthropologie.html`<br>Athleta — `.blackbox/.plans/2025-12-29_0523_deep-research-ecommerce-benchmark-womens-fashion/artifacts/snapshots/homepages/athleta.html` |
../docs/06-quality/feedback/client/community-newsletter.md:1:# Client — Community / Newsletter (Feedback)
../docs/06-quality/feedback/client/shop-landing.md:41:- [x] (#23) Newsletter “Get 10% off” form has no submit behavior (promises a discount but does nothing). — Black-box: `DONE` ([issue-023](../ui-issue-tracker/ui-issues/issue-023.md))
../docs/06-quality/feedback/ui-issue-tracker/ui-issue-ratings-batches.md:56:| 23 | Client | 2 | 3 | 3 | 2 | 9 | Newsletter “Get 10% off” form has no submission behavior | It promises a discount and captures high-intent emails; when nothing happens, users assume the site is broken or scammy. |
../docs/06-quality/feedback/ui-issue-tracker/ui-issue-tracker.md:66:| 23 | Client | Newsletter “Get 10% off” form has no submission behavior | 3 | 3 | 2 | 3 | 25 | DONE | [issue-023](ui-issues/issue-023.md) |
../docs/05-planning/research/market-intelligence/ecommerce-benchmarking/audits/womens-fashion-shortlist-15/sezane.md:61:- Newsletter capture exists in footer (subscription form path):
../docs/05-planning/research/market-intelligence/ecommerce-benchmarking/adjacent-best-in-class-feature-adoption-matrix.md:104:| Newsletter signup (`newsletter_signup`) | 50 | AG1 — `.blackbox/.plans/2025-12-30_2154_deep-research-ecommerce-benchmark-adjacent-best-in-class-100/artifacts/snapshots/homepages/ag1.html`<br>Arc'teryx — `.blackbox/.plans/2025-12-30_2154_deep-research-ecommerce-benchmark-adjacent-best-in-class-100/artifacts/snapshots/homepages/arc-teryx.html`<br>Article — `.blackbox/.plans/2025-12-30_2154_deep-research-ecommerce-benchmark-adjacent-best-in-class-100/artifacts/snapshots/homepages/article.html`<br>Athletic Brewing — `.blackbox/.plans/2025-12-30_2154_deep-research-ecommerce-benchmark-adjacent-best-in-class-100/artifacts/snapshots/homepages/athletic-brewing.html`<br>Away — `.blackbox/.plans/2025-12-30_2154_deep-research-ecommerce-benchmark-adjacent-best-in-class-100/artifacts/snapshots/homepages/away.html`<br>Boll & Branch — `.blackbox/.plans/2025-12-30_2154_deep-research-ecommerce-benchmark-adjacent-best-in-class-100/artifacts/snapshots/homepages/boll-branch.html` |
../docs/06-quality/feedback/ui-issue-tracker/ui-issues/issue-040.md:30:- UI: `src/ui/components/AnnouncementBar.tsx`, `src/ui/components/NewsletterModal.tsx`
../docs/06-quality/feedback/ui-issue-tracker/ui-issues/issue-040.md:43:- `src/ui/components/NewsletterModal.tsx`
../docs/06-quality/feedback/ui-issue-tracker/ui-issues/issue-040.md:51:3) Render `NewsletterModal` → entering email + clicking CTA should submit; previously nothing happened.
../docs/06-quality/feedback/ui-issue-tracker/ui-issues/issue-040.md:63:- Newsletter submission needs a backend endpoint. (A `/api/newsletter/subscribe` handler already exists in this repo.)
../docs/06-quality/feedback/ui-issue-tracker/ui-issues/issue-040.md:82:- `NewsletterModal`:
../docs/06-quality/feedback/ui-issue-tracker/ui-issues/issue-040.md:83:  - Make the email input editable, validate email, and submit to `/api/newsletter/subscribe`.
../docs/06-quality/feedback/ui-issue-tracker/ui-issues/issue-040.md:91:- Newsletter modal can submit (or show error) and shows a success state.
../docs/06-quality/feedback/ui-issue-tracker/ui-issues/issue-040.md:95:- Newsletter endpoint might not be deployed in some environments; failure path should be graceful (shows error, doesn’t break layout).
../docs/06-quality/feedback/ui-issue-tracker/ui-issues/issue-040.md:107:- `src/ui/components/NewsletterModal.tsx`
../docs/06-quality/feedback/ui-issue-tracker/ui-issues/issue-040.md:108:  - Added editable email input + submit handler to `/api/newsletter/subscribe`
../docs/06-quality/feedback/ui-issue-tracker/ui-issues/issue-040.md:127:  - `src/ui/components/NewsletterModal.tsx`
../docs/06-quality/feedback/ui-issue-tracker/ui-issues/issue-090.md:67:- Add a POST endpoint `/api/newsletter/subscribe` that:
../docs/06-quality/feedback/ui-issue-tracker/ui-issues/issue-090.md:86:- `api/newsletter/subscribe.ts`: new POST endpoint that stores signups in `public.newsletter_signups` via `DATABASE_URL`.
../docs/06-quality/feedback/ui-issue-tracker/ui-issues/issue-090.md:87:- `src/ui/components/GlobalFooter.tsx`: replaced the mailto CTA with an email form that posts to `/api/newsletter/subscribe` and shows inline status messages.
../docs/06-quality/feedback/ui-issue-tracker/ui-issues/issue-090.md:96:4. Simulate API failure (e.g., block `/api/newsletter/subscribe`) → shows error message.
../docs/06-quality/feedback/ui-issue-tracker/ui-issues/issue-090.md:109:- `api/newsletter/subscribe.ts`
../docs/06-quality/feedback/ui-issue-tracker/ui-issues/issue-023.md:1:# Issue 023: Newsletter “Get 10% off” form has no submission behavior
../docs/06-quality/feedback/ui-issue-tracker/ui-issues/issue-023.md:31:- Related newsletter infrastructure (already used elsewhere): `api/newsletter/subscribe.ts`, `src/ui/components/GlobalFooter.tsx`
../docs/06-quality/feedback/ui-issue-tracker/ui-issues/issue-023.md:47:4) You’d see the code, but no real signup persisted (no request to `/api/newsletter/subscribe`).
../docs/06-quality/feedback/ui-issue-tracker/ui-issues/issue-023.md:57:- Requires the `/api/newsletter/subscribe` endpoint to be reachable in the deployed environment (it already exists and is used by the footer signup).
../docs/06-quality/feedback/ui-issue-tracker/ui-issues/issue-023.md:66:- The repo already has `api/newsletter/subscribe.ts` and the footer uses it, so we reuse the same pattern and get real persistence with minimal new surface area.
../docs/06-quality/feedback/ui-issue-tracker/ui-issues/issue-023.md:74:- Add a `loading` state and submit handler that POSTs `{ email, source }` to `/api/newsletter/subscribe`.
../docs/06-quality/feedback/ui-issue-tracker/ui-issues/issue-023.md:82:- Submitting the form triggers a POST to `/api/newsletter/subscribe`.
../docs/06-quality/feedback/ui-issue-tracker/ui-issues/issue-023.md:97:  - now POSTs to `/api/newsletter/subscribe`
../docs/06-quality/feedback/ui-issue-tracker/ui-issues/issue-023.md:123:- `api/newsletter/subscribe.ts`
